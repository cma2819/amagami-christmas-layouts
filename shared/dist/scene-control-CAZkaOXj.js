import{a as p,j as n,r as tt}from"./index-SDWRxexv.js";import{g as O,m as F,d as et,n as st,B as ot,k as h,a as at,u as Q,i as J,o as nt,l as T,p as rt,c as it,r as lt,P as ct,L as dt,D as pt}from"./index-BJz4Kaes.js";import{u as ut,a as mt,R as gt,P as yt}from"./nodecg-CZOjlZ1R.js";import{g as U,s as C,a as D,u as $,c as b,b as P,r as ft,h as N,j as vt,G as Y}from"./Grid2-CVySmLOa.js";import"./TransitionGroupContext-BK6N86tB.js";function xt(t){return U("MuiTypography",t)}const q=O("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),ht={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},bt=st(),It=t=>{const{align:e,gutterBottom:s,noWrap:o,paragraph:r,variant:c,classes:l}=t,i={root:["root",c,t.align!=="inherit"&&`align${D(e)}`,s&&"gutterBottom",o&&"noWrap",r&&"paragraph"]};return P(i,xt,l)},Ct=C("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:s}=t;return[e.root,s.variant&&e[s.variant],s.align!=="inherit"&&e[`align${D(s.align)}`],s.noWrap&&e.noWrap,s.gutterBottom&&e.gutterBottom,s.paragraph&&e.paragraph]}})(F(({theme:t})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([s,o])=>s!=="inherit"&&o&&typeof o=="object").map(([s,o])=>({props:{variant:s},style:o})),...Object.entries(t.palette).filter(et()).map(([s])=>({props:{color:s},style:{color:(t.vars||t).palette[s].main}})),...Object.entries(((e=t.palette)==null?void 0:e.text)||{}).filter(([,s])=>typeof s=="string").map(([s])=>({props:{color:`text${D(s)}`},style:{color:(t.vars||t).palette.text[s]}})),{props:({ownerState:s})=>s.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:s})=>s.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:s})=>s.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:s})=>s.paragraph,style:{marginBottom:16}}]}})),K={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},G=p.forwardRef(function(e,s){const{color:o,...r}=$({props:e,name:"MuiTypography"}),c=!ht[o],l=bt({...r,...c&&{color:o}}),{align:i="inherit",className:a,component:u,gutterBottom:f=!1,noWrap:I=!1,paragraph:x=!1,variant:y="body1",variantMapping:d=K,...m}=l,v={...l,align:i,color:o,className:a,component:u,gutterBottom:f,noWrap:I,paragraph:x,variant:y,variantMapping:d},g=u||(x?"p":d[y]||K[y])||"span",S=It(v);return n.jsx(Ct,{as:g,ref:s,className:b(S.root,a),...m,ownerState:v,style:{...i!=="inherit"&&{"--Typography-textAlign":i},...m.style}})});function St(t){return U("MuiListItem",t)}O("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function Lt(t){return U("MuiListItemButton",t)}const j=O("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),Rt=(t,e)=>{const{ownerState:s}=t;return[e.root,s.dense&&e.dense,s.alignItems==="flex-start"&&e.alignItemsFlexStart,s.divider&&e.divider,!s.disableGutters&&e.gutters]},jt=t=>{const{alignItems:e,classes:s,dense:o,disabled:r,disableGutters:c,divider:l,selected:i}=t,u=P({root:["root",o&&"dense",!c&&"gutters",l&&"divider",r&&"disabled",e==="flex-start"&&"alignItemsFlexStart",i&&"selected"]},Lt,s);return{...s,...u}},$t=C(ot,{shouldForwardProp:t=>ft(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:Rt})(F(({theme:t})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${j.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:N(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${j.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:N(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${j.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:N(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:N(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${j.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${j.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},variants:[{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.dense,style:{paddingTop:4,paddingBottom:4}}]}))),Pt=p.forwardRef(function(e,s){const o=$({props:e,name:"MuiListItemButton"}),{alignItems:r="center",autoFocus:c=!1,component:l="div",children:i,dense:a=!1,disableGutters:u=!1,divider:f=!1,focusVisibleClassName:I,selected:x=!1,className:y,...d}=o,m=p.useContext(h),v=p.useMemo(()=>({dense:a||m.dense||!1,alignItems:r,disableGutters:u}),[r,m.dense,a,u]),g=p.useRef(null);at(()=>{c&&g.current&&g.current.focus()},[c]);const S={...o,alignItems:r,dense:v.dense,disableGutters:u,divider:f,selected:x},k=jt(S),V=Q(g,s);return n.jsx(h.Provider,{value:v,children:n.jsx($t,{ref:V,href:d.href||d.to,component:(d.href||d.to)&&l==="div"?"button":l,focusVisibleClassName:b(k.focusVisible,I),ownerState:S,className:b(k.root,y),...d,classes:k,children:i})})});function kt(t){return U("MuiListItemSecondaryAction",t)}O("MuiListItemSecondaryAction",["root","disableGutters"]);const At=t=>{const{disableGutters:e,classes:s}=t;return P({root:["root",e&&"disableGutters"]},kt,s)},wt=C("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:s}=t;return[e.root,s.disableGutters&&e.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:t})=>t.disableGutters,style:{right:0}}]}),X=p.forwardRef(function(e,s){const o=$({props:e,name:"MuiListItemSecondaryAction"}),{className:r,...c}=o,l=p.useContext(h),i={...o,disableGutters:l.disableGutters},a=At(i);return n.jsx(wt,{className:b(a.root,r),ownerState:i,ref:s,...c})});X.muiName="ListItemSecondaryAction";const Bt=(t,e)=>{const{ownerState:s}=t;return[e.root,s.dense&&e.dense,s.alignItems==="flex-start"&&e.alignItemsFlexStart,s.divider&&e.divider,!s.disableGutters&&e.gutters,!s.disablePadding&&e.padding,s.hasSecondaryAction&&e.secondaryAction]},Mt=t=>{const{alignItems:e,classes:s,dense:o,disableGutters:r,disablePadding:c,divider:l,hasSecondaryAction:i}=t;return P({root:["root",o&&"dense",!r&&"gutters",!c&&"padding",l&&"divider",e==="flex-start"&&"alignItemsFlexStart",i&&"secondaryAction"],container:["container"]},St,s)},Tt=C("div",{name:"MuiListItem",slot:"Root",overridesResolver:Bt})(F(({theme:t})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>!e.disablePadding&&e.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:e})=>!e.disablePadding&&!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>!e.disablePadding&&!!e.secondaryAction,style:{paddingRight:48}},{props:({ownerState:e})=>!!e.secondaryAction,style:{[`& > .${j.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>e.button,style:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:e})=>e.hasSecondaryAction,style:{paddingRight:48}}]}))),Nt=C("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),Gt=p.forwardRef(function(e,s){const o=$({props:e,name:"MuiListItem"}),{alignItems:r="center",children:c,className:l,component:i,components:a={},componentsProps:u={},ContainerComponent:f="li",ContainerProps:{className:I,...x}={},dense:y=!1,disableGutters:d=!1,disablePadding:m=!1,divider:v=!1,secondaryAction:g,slotProps:S={},slots:k={},...V}=o,E=p.useContext(h),W=p.useMemo(()=>({dense:y||E.dense||!1,alignItems:r,disableGutters:d}),[r,E.dense,y,d]),Z=p.useRef(null),L=p.Children.toArray(c),z=L.length&&vt(L[L.length-1],["ListItemSecondaryAction"]),B={...o,alignItems:r,dense:W.dense,disableGutters:d,disablePadding:m,divider:v,hasSecondaryAction:z},H=Mt(B),_=Q(Z,s),M=k.root||a.Root||Tt,A=S.root||u.root||{},w={className:b(H.root,A.className,l),...V};let R=i||"li";return z?(R=!w.component&&!i?"div":R,f==="li"&&(R==="li"?R="div":w.component==="li"&&(w.component="div")),n.jsx(h.Provider,{value:W,children:n.jsxs(Nt,{as:f,className:b(H.container,I),ref:_,ownerState:B,...x,children:[n.jsx(M,{...A,...!J(M)&&{as:R,ownerState:{...B,...A.ownerState}},...w,children:L}),L.pop()]})})):n.jsx(h.Provider,{value:W,children:n.jsxs(M,{...A,as:R,ref:_,...!J(M)&&{ownerState:{...B,...A.ownerState}},...w,children:[L,g&&n.jsx(X,{children:g})]})})}),Ot=t=>{const{alignItems:e,classes:s}=t;return P({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},nt,s)},Ft=C("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:s}=t;return[e.root,s.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(F(({theme:t})=>({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),Ut=p.forwardRef(function(e,s){const o=$({props:e,name:"MuiListItemIcon"}),{className:r,...c}=o,l=p.useContext(h),i={...o,alignItems:l.alignItems},a=Ot(i);return n.jsx(Ft,{className:b(a.root,r),ownerState:i,ref:s,...c})}),Vt=t=>{const{classes:e,inset:s,primary:o,secondary:r,dense:c}=t;return P({root:["root",s&&"inset",c&&"dense",o&&r&&"multiline"],primary:["primary"],secondary:["secondary"]},rt,e)},Wt=C("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:s}=t;return[{[`& .${T.primary}`]:e.primary},{[`& .${T.secondary}`]:e.secondary},e.root,s.inset&&e.inset,s.primary&&s.secondary&&e.multiline,s.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${q.root}:where(& .${T.primary})`]:{display:"block"},[`.${q.root}:where(& .${T.secondary})`]:{display:"block"},variants:[{props:({ownerState:t})=>t.primary&&t.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:56}}]}),Dt=p.forwardRef(function(e,s){const o=$({props:e,name:"MuiListItemText"}),{children:r,className:c,disableTypography:l=!1,inset:i=!1,primary:a,primaryTypographyProps:u,secondary:f,secondaryTypographyProps:I,...x}=o,{dense:y}=p.useContext(h);let d=a??r,m=f;const v={...o,disableTypography:l,inset:i,primary:!!d,secondary:!!m,dense:y},g=Vt(v);return d!=null&&d.type!==G&&!l&&(d=n.jsx(G,{variant:y?"body2":"body1",className:g.primary,component:u!=null&&u.variant?void 0:"span",...u,children:d})),m!=null&&m.type!==G&&!l&&(m=n.jsx(G,{variant:"body2",className:g.secondary,color:"textSecondary",...I,children:m})),n.jsxs(Wt,{className:b(g.root,c),ownerState:v,ref:s,...x,children:[d,m]})}),Et=t=>{const e=t.bundleConfig,s=t.Replicant("scene");return{goAll(){s.value={type:"all"}},goCharacter(o){s.value={type:"character",character:o}},goSolo(o){e.players.some(r=>r.pk===o)&&(s.value={type:"solo",solo:o})}}},zt=it(n.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),Ht=["ayatsuji","sakurai","tanamachi","nakata","nanasaki","morishima","none"],_t=({scene:t,selected:e})=>n.jsx(Gt,{children:n.jsxs(Pt,{onClick:t.onSelect,children:[e&&n.jsx(Ut,{children:n.jsx(zt,{})}),n.jsx(Dt,{inset:!e,children:t.label})]})}),Jt=()=>{const t=ut(),e=mt("scene"),s=Et(nodecg),o=p.useCallback(a=>({label:`キャラ注目 - ${lt(a)}`,value:`character_${a}`,onSelect:()=>{s.goCharacter(a)}}),[s]),r=p.useCallback(a=>({label:`単体 - ${a.name}`,value:`solo_${a.pk}`,onSelect:()=>{s.goSolo(a.pk)}}),[s]),c=p.useMemo(()=>[{label:"全体",value:"all",onSelect:()=>{s.goAll()}},...Ht.map(o),...t.map(r)],[t]),i=(a=>{if(a.type==="character")return o(a.character).value;if(a.type==="solo"){const u=t.find(f=>f.pk===a.solo);return u?r(u).value:"all"}return"all"})(e);return n.jsx(Y,{container:!0,component:ct,children:n.jsx(Y,{size:12,children:n.jsx(dt,{dense:!0,children:c.map(a=>n.jsx(_t,{selected:a.value===i,scene:a},a.value))})})})},Yt=()=>n.jsx(pt,{children:n.jsx(gt,{children:n.jsx(yt,{children:n.jsx(Jt,{})})})});tt(n.jsx(Yt,{}));
